% =============================================================================
% Title       : 802.11n D2.0 LDPC Code Definition
% -----------------------------------------------------------------------------
% Revisions   :
%   Date       Version  Author  Description
%   04-oct-07  1.0      studer  file created
% =============================================================================

function LDPC = nokia_N120_R13

  LDPC.name = 'nokia_120b_R13.mat';
   
  LDPC.Z = 42; % subblock size
  %----------
%   H_r12_n120_z5 =[  -1 -1 -1  2  2 -1 -1 -1 -1  5  2  5  1  0 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 
%                     -1 -1  7 -1 -1 -1  0 -1  6  4  5  1 -1  0  0 -1 -1 -1 -1 -1 -1 -1 -1 -1 
%                     -1 -1 -1  1 -1 -1 -1  4  7  2  7 -1 -1 -1  0  0 -1 -1 -1 -1 -1 -1 -1 -1 
%                     -1  0 -1 -1  3 -1 -1 -1 -1  1  1  8 -1 -1 -1  0  0 -1 -1 -1 -1 -1 -1 -1 
%                     -1 -1  3 -1 -1  2 -1 -1 -1  7  2  2 -1 -1 -1 -1  0  0 -1 -1 -1 -1 -1 -1 
%                     -1  3 -1 -1 -1 -1  6 -1 -1  5  6  0 -1 -1 -1 -1 -1  0  0 -1 -1 -1 -1 -1 
%                     -1 -1  4 -1 -1 -1 -1 -1  6  0 -1  5  0 -1 -1 -1 -1 -1  0  0 -1 -1 -1 -1 
%                      0 -1 -1  8 -1  3 -1 -1 -1  3  5  2 -1 -1 -1 -1 -1 -1 -1  0  0 -1 -1 -1 
%                     -1  0 -1 -1 -1 -1 -1  2 -1  6  4  0 -1 -1 -1 -1 -1 -1 -1 -1  0  0 -1 -1 
%                      8 -1 -1 -1 -1 -1  0 -1 -1  7  7  4 -1 -1 -1 -1 -1 -1 -1 -1 -1  0  0 -1 
%                     -1 -1 -1 -1  1  7 -1 -1  2 -1  4  5 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1  0  0 
%                      6 -1 -1 -1 -1 -1 -1  4 -1  0  0  2  1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1  0 ];
% Rate 1/3, and block size 3780 bits. Sub-matrix dimension 252.
% We meed 120 --> 3780/252=15 and 120/15=8 hence z=8

H_nokia_13_z27 = [  34	67	0	250	64	0	0	0	0	0	0	0	0	0	0
                    0	0	122	54	168	175	0	0	0	0	0	0	0	0	0
                    236	90	0	0	82	71	163	0	0	0	0	0	0	0	0
                    130	0	75	0	0	0	115	43	0	0	0	0	0	0	0
                    0	0	0	0	57	0	65	0	89	0	0	0	0	0	0
                    0	0	153	0	0	0	0	0	186	92	0	0	0	0	0
                    0	58	0	0	0	88	0	42	202	0	0	0	0	0	0
                    222	63	0	0	0	0	103	0	0	33	204	0	0	0	0
                    0	67	131	240	0	0	0	0	150	0	0	0	0	0	0
                    0	0	0	0	128	0	0	168	0	0	0	0	0	0	0     ];

   [row col] = size(H_nokia_13_z27);

    prot = cell(row,col) ;
    for i=1:row
        for j=1:col
                if H_nokia_13_z27(i,j) ~= 0
                    H_nokia_13_z27(i,j) = mod(H_nokia_13_z27(i,j),LDPC.Z);
                end
                prot{i,j} =  int2str(H_nokia_13_z27(i,j));
                if strcmp(prot(i,j),'0')
                    prot{i,j}='-';
                end
        end
    end
  %----------
    
  LDPC.H_prot = H_nokia_13_z27;
  LDPC = genmatt(LDPC); % compute check and generator matrices
  
return
            