% =============================================================================
% Title       : 802.11n D2.0 LDPC Code Definition
% -----------------------------------------------------------------------------
% Revisions   :
%   Date       Version  Author  Description
%   04-oct-07  1.0      studer  file created
% =============================================================================

function LDPC = LDPC_11nD2_120b_R12

  LDPC.name = 'LDPC_11nD2_120b_R12.mat';
   
  LDPC.Z = 5; % subblock size
  %----------
  H_r12_n120_z5 =[  -1 -1 -1  2  2 -1 -1 -1 -1  5  2  5  1  0 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 
                    -1 -1  7 -1 -1 -1  0 -1  6  4  5  1 -1  0  0 -1 -1 -1 -1 -1 -1 -1 -1 -1 
                    -1 -1 -1  1 -1 -1 -1  4  7  2  7 -1 -1 -1  0  0 -1 -1 -1 -1 -1 -1 -1 -1 
                    -1  0 -1 -1  3 -1 -1 -1 -1  1  1  8 -1 -1 -1  0  0 -1 -1 -1 -1 -1 -1 -1 
                    -1 -1  3 -1 -1  2 -1 -1 -1  7  2  2 -1 -1 -1 -1  0  0 -1 -1 -1 -1 -1 -1 
                    -1  3 -1 -1 -1 -1  6 -1 -1  5  6  0 -1 -1 -1 -1 -1  0  0 -1 -1 -1 -1 -1 
                    -1 -1  4 -1 -1 -1 -1 -1  6  0 -1  5  0 -1 -1 -1 -1 -1  0  0 -1 -1 -1 -1 
                     0 -1 -1  8 -1  3 -1 -1 -1  3  5  2 -1 -1 -1 -1 -1 -1 -1  0  0 -1 -1 -1 
                    -1  0 -1 -1 -1 -1 -1  2 -1  6  4  0 -1 -1 -1 -1 -1 -1 -1 -1  0  0 -1 -1 
                     8 -1 -1 -1 -1 -1  0 -1 -1  7  7  4 -1 -1 -1 -1 -1 -1 -1 -1 -1  0  0 -1 
                    -1 -1 -1 -1  1  7 -1 -1  2 -1  4  5 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1  0  0 
                     6 -1 -1 -1 -1 -1 -1  4 -1  0  0  2  1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1  0 ];

   [row col] = size(H_r12_n120_z5);

    prot = cell(row,col) ;
    for i=1:row
        for j=1:col
                if H_r12_n120_z5(i,j) ~= -1
                    H_r12_n120_z5(i,j) = mod(H_r12_n120_z5(i,j),LDPC.Z);
                end
                prot{i,j} =  int2str(H_r12_n120_z5(i,j));
                if strcmp(prot(i,j),'-1')
                    prot{i,j}='-';
                end
        end
    end
  %----------
    
  LDPC.H_prot = prot;
  LDPC = genmatt(LDPC); % compute check and generator matrices
  
return
            